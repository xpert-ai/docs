---
title: "数据透视表"
description: "数据透视表微件使用指南"
---


# 数据透视表

## Overview

数据透视表是一种强大的数据分析工具，可以对数据进行多维度汇总和分析，支持行列转置、数据聚合等功能。

## Features

- **多维度分析**: 支持多个维度的数据分析
- **行列转置**: 支持行列转置，灵活调整分析角度
- **数据聚合**: 支持求和、平均值、计数等聚合函数
- **动态汇总**: 动态汇总和计算数据
- **钻取功能**: 支持数据钻取，查看明细数据

## Usage

### 添加数据透视表

1. 在故事仪表盘中，点击"添加微件"
2. 选择"分析表格" -> "数据透视表"
3. 配置数据源
4. 设置行字段（行维度）
5. 设置列字段（列维度）
6. 设置值字段（汇总字段）
7. 选择聚合函数
8. 设置表格样式
9. 保存配置

## 配置选项

### 字段配置

#### 行字段（Rows）

- **行维度**: 选择作为行维度的字段
- **多级行**: 支持多个行维度，形成多级行
- **行排序**: 设置行的排序方式

#### 列字段（Columns）

- **列维度**: 选择作为列维度的字段
- **多级列**: 支持多个列维度，形成多级列
- **列排序**: 设置列的排序方式

#### 值字段（Values）

- **汇总字段**: 选择要汇总的数值字段
- **聚合函数**: 选择聚合函数（求和、平均值、计数、最大值、最小值等）
- **值格式**: 设置数值的显示格式

### 汇总配置

- **行总计**: 显示/隐藏行总计
- **列总计**: 显示/隐藏列总计
- **总计标签**: 自定义总计标签
- **小计**: 显示/隐藏小计

### 样式配置

- **表格样式**: 选择表格样式
- **条件格式**: 设置条件格式，突出显示特定数据
- **颜色映射**: 根据数值大小映射颜色

## 使用示例

### 基本配置

```json
{
  "type": "pivot-table",
  "data": {
    "source": "sales_data"
  },
  "rows": ["region", "product"],
  "columns": ["year", "quarter"],
  "values": [
    {
      "field": "amount",
      "aggregation": "sum",
      "format": "currency"
    },
    {
      "field": "quantity",
      "aggregation": "sum",
      "format": "number"
    }
  ],
  "totals": {
    "row": true,
    "column": true
  }
}
```

## 高级功能

### 计算字段

- **自定义计算**: 创建自定义计算字段
- **公式支持**: 支持使用公式进行计算

### 数据钻取

- **钻取到明细**: 从汇总数据钻取到明细数据
- **钻取路径**: 查看钻取路径

### 条件格式

- **数据条**: 使用数据条显示数值大小
- **颜色标度**: 使用颜色标度显示数值范围
- **图标集**: 使用图标集显示数据状态

## 最佳实践

1. **维度选择**: 合理选择行和列维度，避免过于复杂
2. **聚合函数**: 根据分析需求选择合适的聚合函数
3. **数据量**: 注意数据量，避免透视表过大影响性能
4. **样式设计**: 使用条件格式突出重要数据

## Related Documentation

- [平面表格](/en/数据分析平台/微件/分析表格/平面表格)
- [分析卡片](/en/数据分析平台/微件/分析卡片)
